<!DOCTYPE html><html class=no-js domain=github.io lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href="/img/favicon/favicon-192x192.png?hash=f78a2bf32c" rel=icon type=image/png><meta content=79b473 name=theme-color media="(prefers-color-scheme: light)"><meta content=f9c412 name=theme-color media="(prefers-color-scheme: dark)"><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name=robots><title>Netradiƒçn√© pr√≠stupy k testovaniu</title><meta content="Netradiƒçn√© pr√≠stupy k testovaniu" property=og:title><meta content="Prehƒæad zauj√≠mav√Ωch pr√≠stupov k testovaniu, s ktor√Ωmi som sa stretla v ostatnej pr√°ci." name=description><meta content="Prehƒæad zauj√≠mav√Ωch pr√≠stupov k testovaniu, s ktor√Ωmi som sa stretla v ostatnej pr√°ci." property=og:description><meta content=https://monikajassova.github.io/img/xstate-model-voter.png property=og:image><link href=https://monikajassova.github.io/posts/netradicne-testovanie/ rel=canonical><meta content=no-referrer-when-downgrade name=referrer><link href=/feed/feed.xml rel=alternate type=application/atom+xml title=Domov><link href=/ rel=preconnect crossorigin=""><link href=/fonts/Inter-3.19.var.woff2 rel=preload type=font/woff2 as=font crossorigin=""><script csp-hash="">document.documentElement.classList.remove("no-js");</script><script async defer src="/js/min.js?hash=639a113458"></script><script async defer src=/js/goatCounter.js data-goatcounter=https://miti.goatcounter.com/count></script><script csp-hash="">(function (){const docElm=document.documentElement; const modeKey="colorscheme-mode"; let mode=undefined; try{mode=window.localStorage.getItem(modeKey); if (mode){docElm.setAttribute(modeKey, mode);}else{mode=((window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) ? "light" : "dark"); docElm.setAttribute(modeKey, mode); window.localStorage.setItem(modeKey, mode);}}catch (exception){mode=((window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) ? "light" : "dark"); docElm.setAttribute(modeKey, mode);}})()</script><script csp-hash="">if (/Mac OS X/.test(navigator.userAgent))document.documentElement.classList.add('apple')</script><style>:root{--switch-shadow-color: #f7f7f7;--switch-icon: "üåö";--switch-text: "Tmav√Ω?";--text-color: #222222;--bg-color: #f7f7f7;--theme-color: #79b473;--primary: var(--theme-color);--primary-dark: #89b485}:root[colorscheme-mode=dark]{--switch-shadow-color: #0e0d0c;--switch-icon: "üåù";--switch-text: "Svetl√Ω?";--text-color: #e5e5e5;--bg-color: #181818;--theme-color: #f9c412;--primary: var(--theme-color);--primary-dark: #e7bf60}@media (prefers-color-scheme:light){:root:not([colorscheme-mode=dark]){--switch-shadow-color: #f7f7f7;--switch-icon: "üåö";--switch-text: "Tmav√Ω?";--text-color: #222222;--bg-color: #f7f7f7;--theme-color: #79b473;--primary: var(--theme-color);--primary-dark: #89b485}}@media (prefers-color-scheme:dark){:root:not([colorscheme-mode=light]){--switch-shadow-color: #0e0d0c;--switch-icon: "üåù";--switch-text: "Svetl√Ω?";--text-color: #e5e5e5;--bg-color: #181818;--theme-color: #f9c412;--primary: var(--theme-color);--primary-dark: #e7bf60}}.no-js .colorscheme-toggle-label{display:none}.colorscheme-toggle-label{--transition-time: 0.3s;cursor:pointer;display:inline-block;transition:all var(--transition-time) ease-in-out;transform:scale(1.2)}.colorscheme-toggle-label::before{content:var(--switch-icon);transition:text-shadow var(--transition-time);text-shadow:0 0 10px var(--switch-shadow-color)}.colorscheme-toggle-label::after{align-self:center;vertical-align:baseline;content:var(--switch-text);color:#222;font-weight:lighter;font-size:.75em;text-align:center;opacity:0;padding-left:15x;margin-left:10px;transition:opacity var(--transition-time)}.colorscheme-toggle-label:hover::before{text-shadow:0 0 10px var(--switch-shadow-color)}.colorscheme-toggle-label:hover::after{opacity:1}main img{content-visibility:auto}article *{scroll-margin-top:50px}header nav{z-index:1;position:fixed;top:0;left:0;width:100vw;padding:.375em 1.5em;background:rgba(255,255,255,.9);font-weight:200;text-align:right}:root{--main-width: calc(100vw - 3em)}@media (min-width:37.5em){:root{--main-width: calc(37.5em - 3em)}}dialog,share-widget{position:fixed;opacity:.9}share-widget{right:20px;bottom:20px}share-widget div{width:30px;height:30px;background-image:url(/img/share.svg);background-repeat:no-repeat;background-position:center}.apple share-widget div{background-image:url(/img/share-apple.svg)}body,share-widget button{margin:0}share-widget button:active{transform:scale(1.2)}dialog{background-color:#ab7390;z-index:1000}header aside{font-style:italic}#nav{z-index:2;position:relative}#reading-progress{z-index:1;background-color:var(--primary);width:100vw;position:absolute;left:0;top:0;bottom:0;transform:translate(-100vw,0);will-change:transform;pointer-events:none}#posts li{margin-bottom:.5em}@font-face{font-display:optional;font-family:"Inter UI";font-weight:100 900;font-style:oblique 0deg 10deg;src:url(/fonts/Inter-3.19.var.woff2) format("woff2")}button,html{line-height:1.15}html{-webkit-text-size-adjust:100%;font-family:Inter UI,sans-serif;--font-family: Inter UI, sans-serif}body{transition:all 300ms ease-in-out 0s}h1{font-size:3em;line-height:1.25;margin:.67em 0 .5em;font-size:2.074rem;line-height:2.4rem;margin-bottom:1.36rem}a{background-color:transparent;color:#f9c412;text-decoration:none;color:var(--primary)}b{font-weight:700}img{border-style:none}button{font-family:inherit;font-size:100%;overflow:visible;text-transform:none}[type=button],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}h3{font-size:2em;line-height:1.125;margin-bottom:.75em;font-size:1.4rem}h4{font-size:1.5em;margin-bottom:1em;line-height:1.5em}body,ol,p,pre,ul{font-size:1em}ol,p,pre,ul{margin-bottom:1.5em}h3,h4{line-height:1.6rem;margin-bottom:1.36rem}h4{font-size:1.2rem}body,ol,p,pre,ul{font-size:1rem;line-height:1.6}ol,p,pre,ul{margin-bottom:1.36rem}@media (min-width:600px){h1{font-size:4.3978rem;line-height:4.4rem}h3{font-size:2.1989rem;line-height:2.64rem}h4{font-size:1.5554rem;line-height:1.76rem}body,ol,p,pre,ul{font-size:1.1rem;line-height:1.6}h1,h3,h4,ol,p,pre,ul{margin-bottom:1.496rem}}@media (min-width:1200px){h1{font-size:6.0756rem;line-height:6.72rem}h3{font-size:2.7rem;line-height:2.88rem}h4{font-size:1.8rem;line-height:1.92rem}body,ol,p,pre,ul{font-size:1.2rem;line-height:1.6}h1,h3,h4,ol,p,pre,ul{margin-bottom:1.632rem}}code,pre{overflow-x:auto}pre{font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace}pre:has(code:not([class])){background:#2d2d2d}pre code:not([class]){color:#ccc;padding:0;overflow-x:scroll}button,code{border-radius:.3em}code{color:#e2777a;padding:0 .3em;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:90%;background:#2d2d2d}h1,h3,h4{font-family:var(--font-family)}h4{font-style:italic}a:hover{text-decoration:underline}@media (max-width:767px){x:-moz-any-link{display:table-cell}}form{padding:1.5em 1.5em 0;border:.2rem solid #202020;margin-bottom:1.5em}button{max-width:100%;background:#f2f2f2;color:#191919;cursor:pointer;padding:.75em 1.5em;text-align:center;margin:0 .75em 1.5em 0}button+label,label+*{page-break-before:always}button,label{display:inline-block}form>:not(fieldset){margin-right:.75em}button:hover{background:#d9d9d9;color:#000}button:not([disabled]){background:#f9c412;color:#181818;background:var(--primary)}button:not([disabled]):hover{background:#ba9005;color:#000;background:var(--primary-dark)}*{border:0;box-sizing:border-box}header,img,video{margin:0 auto;max-width:100%}img,video{height:auto}body,header nav a{font-family:var(--font-family)}body{background:var(--bg-color);color:var(--text-color)}header label{display:block}header{padding:4.5em 1.5em 3em;width:37.5em;text-align:center;display:flex;align-items:center;flex-direction:column}header p,ol,ul{margin-top:0}header nav h1{float:left;font-size:inherit;line-height:inherit;margin:0;text-align:left}header nav a{font-weight:700;text-decoration:none;color:#181818;margin-left:1.5em}header nav a:first-of-type{margin-left:auto}header nav a:last-of-type{margin-right:1.5em}header nav label{color:#000;cursor:pointer;margin:0;font-style:normal;text-align:right}main{max-width:70rem;margin:0 auto;border-top:.5px solid #ccc;text-align:justify}footer{background:rgba(0,0,0,.8);color:#fff;padding:3em;text-align:center}footer>*{margin:1.5em}footer nav a img{vertical-align:middle}footer nav,footer p{font-size:90%}article{max-width:100%;padding:1.5em;width:40em;margin:0 auto}li ol,li ul{margin-bottom:0}</style><header><nav><div id=nav><h1><a href=/ title=Homepage>Domov</a> <label class=colorscheme-toggle-label id=colorscheme-toggle on-click=colorscheme-toggle></label></h1><a href=/tags/ >Tagy</a> <a href=/about/ >O mne</a></div><div id=reading-progress aria-hidden=true></div></nav><h1>Netradiƒçn√© pr√≠stupy k testovaniu</h1><aside>ƒç√≠tanie na 13 min</aside><dialog id=message></dialog><noscript><img src="https://miti.goatcounter.com/count?p=/test-noscript"></noscript></header><main><article><p><em>Prehƒæad zauj√≠mav√Ωch pr√≠stupov k testovaniu, s ktor√Ωmi som sa stretla na blockchainovom projekte (ako kritick√Ω vy≈æadoval vy≈°≈°iu mieru istoty a na overenie dizajnu z√°kladn√Ωch kame≈àov sa vyu≈æ√≠vali aj matematick√© met√≥dy form√°lnej verifik√°cie). Tie≈æ pr√≠stupy, ktor√© vyzeraj√∫ by≈• dobr√Ωm kandid√°tom na zaradenie do arzen√°lu. P√¥jdeme v smere od unit testov a≈æ k E2E testom na produkƒçnom prostred√≠.</em><h3 id=mutation-testing>Mutation testing <a href=#mutation-testing class=direct-link>#</a></h3><p>Mutation testing sa pou≈æ√≠va na otestovanie unit testov, zhodnotenie ich efekt√≠vnosti, kvality. Jeho koncept je veƒæmi jednoduch√Ω a geni√°lny - mut√°cia je zavedenie modifik√°cie zdrojov√©ho k√≥du aplik√°cie, napr. otoƒçenie aritmetick√©ho znamienka, zmena logick√©ho oper√°tora, opaƒçn√° hodnota boolean a pod., po ƒçom sa oƒçak√°va, ≈æe unit testy by zmenu v programe mali zachyti≈• a spadn√∫≈•. Ak sa tak nestane a "mutant" pre≈æije, unit testy nedostatoƒçne pokr√Ωvaj√∫ k√≥d testami (aj pri 100% code coverage n√°m m√¥≈æu ch√Ωba≈• negat√≠vne testovacie pr√≠pady a in√©).<br>Je vhodn√Ω v situ√°cii, kedy potrebujeme zisti≈•, ako je na tom s unit testami projekt, na ktor√Ω sme pri≈°li a nepozn√°me ho alebo napr. open-source projekty. Mutation testy sa m√¥≈æu pou≈æi≈• aj na otestovanie efektivity <a href=#property-based-testing>property-based unit testov</a>.<br>Nev√Ωhodou je, ≈æe beh mutation testov trv√° dlh≈°ie ako unit testy.<div id=Vq9eqZzblfg class=eleventy-plugin-youtube-embed style="position:relative;width:100%;padding-top: 56.25%;"><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen frameborder=0 height=100% src=https://www.youtube-nocookie.com/embed/Vq9eqZzblfg style=position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%; title="Embedded YouTube video" width=100%></iframe></div><p>Pr√≠kladmi konkr√©tnych frameworkov s√∫:<ul><li><a href=https://stryker-mutator.io/ >Stryker Mutator</a> pre JavaScript/TypeScript, Scalu a C#<li><a href=https://pitest.org/ >Pitest</a> pre Javu a JVM<li><a href=https://github.com/sixty-north/cosmic-ray>Cosmic Ray</a> pre Python</ul><h3 id=property-based-testing>Property-based testing <a href=#property-based-testing class=direct-link>#</a></h3><p>Klasick√© testy, s ktor√Ωmi sa stret√°vame, s√∫ zalo≈æen√© na konkr√©tnych pr√≠kladoch - pre tak√Ωto vstup oƒçak√°vam tak√Ωto v√Ωstup. Napr. funkciu na vr√°tenie true/false, ƒçi pou≈æ√≠vateƒæ je plnolet√Ω na z√°klade veku, viem otestova≈• niekoƒæk√Ωmi pr√≠kladmi: pre 17 rokov oƒçak√°vam false, pre 18 true, pre 0 false, pre 100 true.<br>Property-based testy s√∫ zalo≈æen√© na definovan√≠ v≈°eobecn√Ωch vlastnost√≠, ktor√© s√∫ platn√© pre v≈°etky mo≈æn√© hodnoty. Developer zadefinuje, ak√©ho typu a z ak√©ho rozp√§tia vstupy maj√∫ by≈• (existuj√∫ vstavan√© gener√°tory pre primit√≠vne d√°tov√© typy, pr√≠p. developer nak√≥di vlastn√Ω gener√°tor pre typy a triedy, ak√© potrebuje) a PBT framework vygeneruje veƒæk√Ω poƒçet n√°hodn√Ωch hodn√¥t, ktor√© s√∫ otestovan√©, ƒçi spƒ∫≈àaj√∫ dan√© vlastnosti. Vlastnos≈• m√¥≈æe by≈• vyjadren√° tak√Ωmto sp√¥sobom:<pre><code>  pre hocijak√© (x, y, ...)
  tak√©, ≈æe spƒ∫≈àa predpoklad(x, y, ...)
  v√Ωrok (x, y, ...) je pravdiv√Ω
</code></pre><p>Pr√≠kladmi konkr√©tnych frameworkov s√∫:<ul><li><a href=https://fast-check.dev/ >fast-check</a> pre JS/TS<li><a href=https://hypothesis.works/ >Hypothesis</a> pre Python<li><a href=https://scalacheck.org/ >ScalaCheck</a> a <a href=https://hedgehogqa.github.io/scala-hedgehog/ >Hedgehog</a> pre Scalu<li>ƒèal≈°ie jazyky n√°jdete na <a href=https://github.com/jmid/pbt-frameworks>https://github.com/jmid/pbt-frameworks</a><ul><li>v√Ωhodnou funkcionalitou frameworku je shrinking, ktor√Ω sa pri n√°jden√≠ v√Ωnimky z vlastnosti postar√° o zjednodu≈°en√Ω minimalizovan√Ω pr√≠pad na reprodukciu probl√©mu</ul></ul><p>P√≠sanie tak√Ωchto testov si vy≈æaduje zmenu sp√¥sobu myslenia a kreativitu, developer/tester si mus√≠ odvodi≈• univerz√°lne platn√© vlastnosti, prem√Ω≈°ƒæa≈• o korektn√Ωch vstupoch a hlboko porozumie≈• po≈æiadavk√°m, ako m√° funkcionalita fungova≈• sk√¥r ako pri tradiƒçnom pr√≠stupe. PBT s√∫ komplement√°rne ku klasick√Ωm example-based testom - m√¥≈æu identifikova≈• hraniƒçn√© pr√≠pady a potenci√°lne probl√©my, na ktor√© nebolo myslen√© pri example-based testoch. Taktie≈æ m√¥≈æu odhali≈• neoƒçak√°van√© probl√©my spojen√© so ≈°pecifickou mno≈æinou vstupov alebo myln√© predstavy.<br>PBT maj√∫ vy≈°≈°ie n√°klady, ale aj vy≈°≈°iu hodnotu. Pou≈æi≈• sa daj√∫ aj na vy≈°≈°√≠ch √∫rovniach nad unit testami. Tipy pre uva≈æovanie a v√Ωber vlastnost√≠: <a href=https://fsharpforfunandprofit.com/posts/property-based-testing-2/ >https://fsharpforfunandprofit.com/posts/property-based-testing-2/</a><p>Strat√©gie implement√°cie:<ul><li>zaƒça≈• s example-based, keƒè tie s√∫ hotov√©, prida≈• property-based<li>nap√≠sa≈• property-based len pre kƒæ√∫ƒçov√© komponenty syst√©mu<ul><li>komplikovan√©, ktor√© nie √∫plne ch√°peme, ƒço robia<li>kritick√© pre klienta</ul></ul><p>Viac vo videu:<div id=gENnmmOjifA class=eleventy-plugin-youtube-embed style="position:relative;width:100%;padding-top: 56.25%;"><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen frameborder=0 height=100% src=https://www.youtube-nocookie.com/embed/gENnmmOjifA style=position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%; title="Embedded YouTube video" width=100%></iframe></div><p>Pr√≠padom frameworku postaven√©ho na PBT je <a href=https://quickstrom.io/ >Quickstrom</a> na testovanie webov√Ωch aplik√°ci√≠, ktor√Ω k vlastnostiam prid√°va line√°rnu tempor√°lnu logiku - aplik√°ciu vieme pop√≠sa≈• ≈°pecifik√°ciou, ktor√° hovor√≠, ak√© prechody stavov s√∫ validn√©, ktor√Ω stav m√° nasta≈• po ktorom, ak√Ω stav nastane aspo≈à raz/v≈ædy a pod. V Quickstrome definujeme akcie, ktor√© sa daj√∫ v aplik√°cii vykona≈•, stavy, v ktor√Ωch sa aplik√°cia m√¥≈æe nach√°dza≈• a Quickstrom sa postar√° o to, aby vygeneroval n√°hodn√© sledy akci√≠ a vyhodnotil, ƒçi skutoƒçne nadobudnut√Ω sled stavov zodpoved√° ≈°pecifik√°cii a aplik√°cia nespravila nieƒço neoƒçak√°van√©.<br>Nev√Ωhodou je strm√° krivka uƒçenia, skromn√° dokument√°cia, projekt nie je e≈°te dostatoƒçne zrel√Ω - limitovan√° podpora dynamick√©ho obsahu a ≈•a≈ækosti s naƒçasovan√≠m. Intern√Ω proof of concept taktie≈æ odhalil nespoƒæahliv√© alebo ne√∫ƒçinn√© selektory pre identifik√°ciu elementov, ≈æe defaultn√© spr√°vanie vyhodnotenia viditeƒænosti a akt√≠vnosti elementov pre vykonanie akcie nie v≈ædy vyhovovalo a boli potrebn√© r√¥zne hacky a explicitn√© predpoklady, kedy m√¥≈æe by≈• akcia vykonan√°. Nepon√∫ka ani schopnos≈• simult√°nne pracova≈• s viacer√Ωmi str√°nkami alebo otestova≈• viac s√∫borov cez pr√≠kaz <code>check</code>.<p>In√Ωm n√°strojom, ktor√Ω vyu≈æ√≠va PBT, je <a href=https://schemathesis.io/ >Schemathesis</a> na testovanie API s pomocou API sch√©my (viƒè aj <a href=#schema-based-contract-testing>Schema-based contract testing</a>).<h3 id=model-based-testing>Model-based testing <a href=#model-based-testing class=direct-link>#</a></h3><p>Podstatou MBT je automatick√© generovanie testov a ich exek√∫cia na z√°klade modelu syst√©mu. Abstraktn√Ω model reprezentuj√∫ci oƒçak√°van√© spr√°vanie, vstupy, v√Ωstupy a stavy testovan√©ho syst√©mu mus√≠ vytvori≈• tester. To si op√§≈• vy≈æaduje prepn√∫≈• sp√¥sob myslenia, ak√Ωm uva≈æujeme. Model m√¥≈æe by≈• v podobe diagramu prechodu stavov, koneƒçn√©ho automatu, rozhodovacej tabuƒæky, UML diagramu. MBT sa d√° pou≈æi≈• na r√¥znych √∫rovniach od unit po syst√©mov√© a akceptaƒçn√© testy.<br>Je ide√°lny do agiln√©ho prostredia, kde sa menia po≈æiadavky a treba testova≈• r√Ωchlo a kontinu√°lne (√∫dajne, na≈°la som aj opaƒçn√Ω n√°zor).<p>Plusy: ≈°etr√≠ ƒças automatizovan√≠m vytv√°rania a exekuovania testov, √∫dr≈æba je takisto zjednodu≈°en√° - len √∫prava modelu, zv√Ω≈°en√© pokrytie, ≈°k√°lovateƒænos≈• - obzvl√°≈°≈• efekt√≠vny pre veƒæk√© a komplexn√© syst√©my<br>M√≠nusy: strm√° krivka uƒçenia, tvorba presn√Ωch a detailn√Ωch modelov komplexn√Ωch syst√©mov je zlo≈æit√° a ƒçasovo n√°roƒçn√°, m√°lo vyu≈æ√≠van√Ω v testerskej komunite - ≈•a≈æko n√°js≈• nejak√© odpor√∫ƒçania a overen√© postupy<p>N√°stroje:<ul><li><a href=https://github.com/statelyai/xstate>XState</a>, k testovaniu <a href=https://stately.ai/docs/generate-test-paths>tu</a> a <a href=https://css-tricks.com/model-based-testing-in-react-with-state-machines/ >ƒçl√°nok o prepojen√≠ XState a testovac√≠ch frameworkov Jest a Puppeteer</a><li><a href=https://graphwalker.github.io/ >GraphWalker</a><li><a href=https://github.com/intel/fMBT>fMBT</a></ul><p>Te√≥ria vyzer√° pekne, ale zatiaƒæ som nevidela √∫spe≈°n√Ω pr√≠klad z re√°lnej praxe na nejakom komplexnom projekte. My sme MBT sk√∫≈°ali ako proof of concept testovania decentralizovanej aplik√°cie DAO s vyu≈æit√≠m XState. S n√°vrhom ide√°lneho modelu sme mali ≈•a≈ækosti (bol to pokus-omyl) a pr√≠stup sme si nezvolili, ale vytvoren√Ω stavov√Ω diagram sl√∫≈æil ako dobr√° vizu√°lna dokument√°cia a oce≈àovali sme, ≈æe pr√≠stup n√°s n√∫til zamyslie≈• sa nad r√¥znymi stavmi, do ktor√Ωch sa aplik√°cia m√¥≈æe dosta≈•.<p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/xstate-model-voter-1920w.avif 1920w, /img/xstate-model-voter-1280w.avif 1280w, /img/xstate-model-voter-640w.avif 640w, /img/xstate-model-voter-320w.avif 320w" type=image/avif><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/xstate-model-voter-1920w.webp 1920w, /img/xstate-model-voter-1280w.webp 1280w, /img/xstate-model-voter-640w.webp 640w, /img/xstate-model-voter-320w.webp 320w" type=image/webp><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/xstate-model-voter-1920w.png 1920w, /img/xstate-model-voter-1280w.png 1280w, /img/xstate-model-voter-640w.png 640w, /img/xstate-model-voter-320w.png 320w" type=image/png><img src=/img/xstate-model-voter-1920w.png alt="XState model - voter" decoding=async height=804 loading=lazy style="background-size:cover;background-image:url(&#34;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 1652 804'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAFCAYAAACTphZWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhklEQVQImU2OWQoDMQxDc4hmc/Y4mZm2H73/6VRsGJgPIYP1hEzKDX0s7OOD9/cHXhcmn6idUepALh2RisqEmJByhfNRXZ4CU6rwMcEFwst6WBcknEGpwAdCaRO8L/SxMeaBMbfCUiQyEpKG2qY2isuU583rVNhYH5QS6Pb7lomRss5rnfEHUblJtl6GOPYAAAAASUVORK5CYII='%3E%3C/image%3E%3C/svg%3E&#34;)" width=1652></picture><h3 id=contract-testing-(code-based)>Contract testing (code-based) <a href=#contract-testing-(code-based) class=direct-link>#</a></h3><p>Contract testy sa nach√°dzaj√∫ v testovacej pyram√≠de medzi unit a integraƒçn√Ωmi testami. Ich √∫lohou je zaisti≈•, ≈æe dvojica komponentov vie st√°le komunikova≈• skrz API napriek zmen√°m v k√≥de (teda bol dodr≈æan√Ω sk√¥r dohodnut√Ω kontrakt o vz√°jomnej komunik√°cii). V√Ωhodou je, ≈æe tieto testy s√∫ asynchr√≥nne a be≈æia v izol√°cii - nevy≈æaduj√∫ si prostredie, na ktorom by oba komponenty museli be≈æa≈• s√∫ƒçasne. Na probl√©my sa d√° pr√≠s≈• e≈°te pred nasaden√≠m na testovacie prostredie, v r√°mci CI checku na pull requeste v repozit√°ri. Ide√°lne pre microservices architekt√∫ru. Netestuj√∫, ƒçi funkcionalita za nejak√Ωm API volan√≠m funguje, to st√°le potrebujeme ma≈• podchyten√© v in√Ωch funkcion√°lnych testoch.<p>Plusy: exekuuje re√°lny aplikaƒçn√Ω k√≥d na oboch stran√°ch interakcie, testuje aj statusov√© k√≥dy a z√°kladn√© predpoklady o odpovedi, z√°rove≈à pr√≠klady sl√∫≈æia ako ≈°pecifik√°cia a dokument√°cia, siln√© verifikaƒçn√© z√°ruky, ƒças≈• testov na vy≈°≈°√≠ch √∫rovniach m√¥≈æe by≈• presunut√° do contract testov<br>M√≠nusy: zlo≈æitej≈°√≠ a ƒçasovo n√°roƒçnej≈°√≠ na zaƒçiatok, potrebn√° √∫dr≈æba testov<p>Typy:<ol><li><p>consumer-driven: kontrakt definuje konzument API (klient) na z√°klade toho, ƒço oƒçak√°va od producenta API (servera). Pokr√Ωva len ƒças≈•, ktor√∫ potrebuje konkr√©tny konzument (producent m√¥≈æe ma≈• ƒèal≈°√≠ch konzumentov, ktor√≠ maj√∫ in√© po≈æiadavky). Ak√©koƒævek spr√°vanie producenta, ktor√© nie je vyu≈æ√≠van√© konzumentami sa m√¥≈æe meni≈• bez obavy z poru≈°enia kontraktu a padnutia testov. ≈†pecifik√°cia je nahrat√° s pomocou mocku producenta. Interakcie (vstupy a oƒçak√°van√© v√Ωstupy) s√∫ zachyten√© v s√∫bore kontraktu. Ten sa zdieƒæa s producentom, ktor√Ω kontrakt verifikuje na svojej strane - prehrat√≠m interakcie a porovnan√≠m s oƒçak√°vanymi odpoveƒèami.<li><p>producer-driven: kontrakt definuje producent API (ako s√∫bor v≈°etk√©ho, ƒço poskytuje) a konzumenti ho pou≈æ√≠vaj√∫ na uistenie, ≈æe vedia spracova≈• uveden√© odpovede √∫spe≈°ne. Ch√Ωba sp√§tn√° v√§zba.<li><p>bidirectional: producent aj konzument vytvoria svoju verziu kontraktu pre ≈°pecifick√∫ integr√°ciu - oƒçak√°vania o spr√°van√≠ producenta a ≈°pecifik√°ciu spr√°vania producenta. Porovnanie a verifik√°ciu kontraktu rob√≠ nez√°visl√° tretia strana, ktorej poskytn√∫ kontrakty. Konzument aj producent sa vedia dotazova≈• na v√Ωsledky verifik√°cie, aby zistili, ƒçi nastali nejak√© integraƒçn√© probl√©my a ƒçi je bezpeƒçn√© nov√© verzie nasadi≈• na prostredie.</ol><p>Viac inform√°ci√≠ m√° na svojej str√°nke Bas Dijkstra, ktor√Ω sa na contract testing ≈°pecializuje:<ul><li><a href=https://www.ontestautomation.com/an-introduction-to-contract-testing-part-1-meet-the-players/ >https://www.ontestautomation.com/an-introduction-to-contract-testing-part-1-meet-the-players/</a><li><a href=https://www.ontestautomation.com/contract-testing-what-not-to-test-for-part-1/ >https://www.ontestautomation.com/contract-testing-what-not-to-test-for-part-1/</a></ul><p>alebo ich n√°jdete v ned√°vno vydanej knihe <a href=https://www.manning.com/books/contract-testing-in-action>Contract Testing in Action</a>.<p>Frameworky:<ul><li><a href=https://pact.io/ >Pact</a> s podporou JS, JVM, Rust, Python, Go, PHP, .NET<li><a href=https://github.com/karatelabs/karate/tree/master/karate-netty#consumer-provider-example>Karate</a> - kontrakty definovan√© vo form√°te Gherkin, jar na beh testov<li><a href=https://spring.io/projects/spring-cloud-contract>Spring Cloud Contract</a> - podporuje definovanie kontraktov v YAML a Groovy a ich beh v Dockeri<li><a href=https://specmatic.io/ >Specmatic</a> - no-code rie≈°enie, ktor√© generuje contract testy z API ≈°pecifik√°ci√≠</ul><p>Bohu≈æiaƒæ, k implement√°cii contract testingu sme sa na projekte z ƒçasov√Ωch d√¥vodov a in√Ωch prior√≠t nedostali, ale videli sme pr√≠pady, kedy by tento pr√≠stup pomohol v skorom zachyten√≠ ne≈æiaducich zmien priamo u komponentu, ktor√Ω ich zaviedol.<h4 id=schema-based-contract-testing>Schema-based contract testing <a href=#schema-based-contract-testing class=direct-link>#</a></h4><p>Sch√©ma alebo ≈°pecifik√°cia API je statick√Ω form√°lny popis API, ktor√Ω zachyt√°va v≈°etky mo≈æn√© koncov√© body, po≈æiadavky a odpovede. Pr√≠klady sch√©m pre r√¥zne protokoly s√∫ <a href=https://swagger.io/resources/open-api/ >OpenAPI Specification</a> pre REST, <a href=https://graphql.org/learn/schema/ >GraphQL schema</a>, <a href=https://www.asyncapi.com/en>AsyncAPI</a>, <a href=https://json-schema.org/ >JSON schema</a> alebo <a href=https://open-rpc.org/ >OpenRPC</a>.<p>SBCT kontroluje, ƒçi konzument pou≈æ√≠va spr√°vy, ktor√© sa zhoduj√∫ s (podmno≈æinou) danej API sch√©my a ƒçi producent produkuje v√Ωstup, ktor√Ω s√∫hlas√≠ s touto sch√©mou. Tvrd√≠, ≈æe dan√° strana komunik√°cie je kompatibiln√° so sch√©mou v urƒçitom ƒçase.<br>St√°le je v≈°ak potrebn√© sledova≈•, ak√© verzie aplik√°ci√≠ s√∫ nasaden√©, aby sme sa uistili, ≈æe obe strany pou≈æ√≠vaj√∫ kompatibiln√© verzie sch√©my. Spr√°va tie≈æ m√¥≈æe by≈• kompatibiln√° so sch√©mou (syntakticky spr√°vna), ale nema≈• v√Ωznam a by≈• nespr√°vna.<p>Plusy: ƒæah≈°ie a r√Ωchlej≈°ie je s nimi zaƒça≈•, men≈°ia √∫dr≈æba - ak s√∫ sch√©my generovan√© priamo z k√≥du, z√°rove≈à sl√∫≈æi ako dokument√°cia API, odstra≈àuje nutnos≈• existencie testovac√≠ch d√°t<br>M√≠nusy: rob√≠ porovnanie sch√©m - teda tvaru d√°t, ostatn√© aspekty kontraktu (cesty, met√≥dy, hlaviƒçky, statusov√© k√≥dy, ≈°pecifick√© mno≈æiny vstupov) nie s√∫ testovan√©, ni≈æ≈°ie verifikaƒçn√© z√°ruky, sch√©ma je ƒçasto ruƒçne vytvoren√° a udr≈æiavan√° - m√¥≈æe nasta≈• odch√Ωlka medzi sch√©mou a re√°lnym k√≥dom.<p>Viac v seri√°li na <a href=https://pactflow.io/blog/contract-testing-using-json-schemas-and-open-api-part-1/ >https://pactflow.io/blog/contract-testing-using-json-schemas-and-open-api-part-1/</a><p>P√°r n√°strojov:<ul><li><a href=https://stoplight.io/open-source/prism>Prism</a> pre OpenAPI ≈°pecifik√°cie<li><a href=https://microcks.io/ >Microcks</a> testuje nasaden√© implement√°cie oproti API ≈°pecifik√°cii<li><a href=https://schemathesis.io/ >Schemathesis</a> PBT framework na API testovanie, deteguje aj odch√Ωlku medzi implement√°ciou API a OpenAPI alebo GraphQL ≈°pecifik√°ciou<li><a href=https://github.com/apiaryio/dredd>Dredd</a> u≈æ archivovan√Ω projekt, ktor√Ω testoval, ƒçi implement√°cia backendu zodpoved√° API sch√©me</ul><h3 id=trace-based-testing>Trace-based testing <a href=#trace-based-testing class=direct-link>#</a></h3><p>Na integrovanom prostred√≠ vr√°tane produkcie (ak m√°me naprieƒç komponentami syst√©mu implementovan√Ω tracing) m√¥≈æeme okrem pas√≠vneho monitoringu zbieran√© d√°ta vyu≈æi≈• aj na testovac√≠ √∫ƒçel. TBT overuje tvrdenia o trase st√¥p pre dan√∫ transakciu a umo≈æ≈àuje integraƒçn√© aj komplexn√© E2E testy. Definujeme model, nasleduje zber d√°t a na z√°ver vyhodnotenie, ƒçi d√°ta zodpovedaj√∫ modelu. Rovnak√Ω model a test m√¥≈æe by≈• pou≈æit√Ω pri integraƒçn√Ωch testoch na lok√°lnom prostred√≠ aj unit testoch s mockmi. S√∫ vhodn√© najm√§ pre microservices architekt√∫ru a distribuovan√© syst√©my. TBT sa daj√∫ kombinova≈• aj so z√°≈•a≈æov√Ωmi testami a pom√¥c≈• pri odhalen√≠ √∫zkych hrdiel v syst√©me.<br>P√≠san√≠m testov nad traceami z√°rove≈à rob√≠me tracing d√¥le≈æitou s√∫ƒças≈•ou v√Ωvoja, nie dodatoƒçnou my≈°lienkou a vytv√°rame cyklus sp√§tnej v√§zby, ktor√Ω m√° za n√°sledok lep≈°ie testovanie aj lep≈°iu observabilitu (d√° sa nazva≈• aj trace-driven development) a t√Ωm p√°dom aj r√Ωchlej≈°ie urƒçenie pr√≠ƒçiny v pr√≠pade probl√©mov. Ak√©koƒævek n√°stroje, ktor√© umo≈æ≈àuj√∫ anal√Ωzu ≈°trukt√∫rovan√Ωch d√°t n√°m pom√¥≈æu pri TBT. ƒéal≈°ie nadstavby m√¥≈æu by≈• kombin√°cie s tempor√°lnou logikou, model checkermi a form√°lnou verifik√°ciou.<p>Pr√≠kladom je <a href=https://tracetest.io/ >Tracetest</a> pre OpenTelemetry. Poskytuje mnoho integr√°ci√≠ vr√°tane Playwrightu, ƒç√≠m umo≈æ≈àuje naozajstn√© E2E testovanie, kedy sa test zaƒçne na UI webstr√°nky a dostane schopnos≈• vidie≈• a sledova≈• cel√© intern√© spracovanie danej po≈æiadavky skrz back end, datab√°zu a extern√© slu≈æby.<div id=MP_edlFWRi4 class=eleventy-plugin-youtube-embed style="position:relative;width:100%;padding-top: 56.25%;"><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen frameborder=0 height=100% src=https://www.youtube-nocookie.com/embed/MP_edlFWRi4 style=position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%; title="Embedded YouTube video" width=100%></iframe></div><h3 id=chaos-engineering>Chaos engineering <a href=#chaos-engineering class=direct-link>#</a></h3><p>Zauj√≠mav√Ωm pr√≠stupom s√∫ nefunkcion√°lne testovacie techniky na hodnotenie toho, ako je syst√©m robustn√Ω, odoln√Ω voƒçi nepriazniv√Ωm vplyvom a abnorm√°lnemu spr√°vaniu, ako toleruje chyby a schopnos≈• zotavi≈• sa z nich.<br>Chaos engineering je praktika √∫myseln√©ho zav√°dzania ch√Ωb a zlyhan√≠ na r√¥znych √∫rovniach (odstr√°nenie Kubernetes podu, zv√Ω≈°enie latencie, √∫pln√© preru≈°enie sie≈•ov√©ho spojenia medzi komponentami, simul√°cia pou≈æ√≠vateƒæsk√Ωch ch√Ωb atƒè.). Cieƒæom je potvrdi≈• alebo vyvr√°ti≈• na≈°e hypot√©zy o tom, ako syst√©m zareaguje a ƒçi sa zotav√≠ a zlep≈°i≈• celkov√∫ odolnos≈• syst√©mu odhalen√≠m skryt√Ωch slab√≠n a valid√°ciou mechanizmov obnovy za realistickej pracovnej z√°≈•a≈æe a kombin√°cie z√°vad. Zameriava sa teda na zv√Ω≈°enie d√¥very v schopnos≈• distribuovan√Ωch syst√©mov ƒçeli≈• turbulentn√Ωm podmienkam skutoƒçn√©ho sveta vr√°tane nepredv√≠dateƒæn√Ωch zlyhan√≠.<br>Vykon√°va sa na prostrediach podobn√Ωch produkcii aj priamo na produkcii.<br>Podmienkou je ma≈• syst√©m dostatoƒçne zrel√Ω, spoƒæahliv√Ω (aby nepadal aj bez priƒçinenia chaos engineeringu) a tie≈æ observabilita na dostatoƒçnej √∫rovni, aby sme do syst√©mu "videli", ako sa spr√°va a mohli sledova≈• hodnoty kƒæ√∫ƒçov√Ωch indik√°torov.<p>P√°r n√°strojov:<ul><li><a href=https://chaos-mesh.org/ >Chaos Mesh</a> a <a href=https://litmuschaos.io/ >Litmus</a> pre Kubernetes<li><a href=https://github.com/netflix/chaosmonkey>Chaos Monkey</a> od Netflixu, ktor√Ω bol priekopn√≠kom chaos engineeringu<li><a href=https://chaostoolkit.org/ >ChaosToolkit</a><li>viac na <a href=https://github.com/dastergon/awesome-chaos-engineering>https://github.com/dastergon/awesome-chaos-engineering</a></ul><p>Chaos engineering spad√° pod resilience testing spolu s:<ul><li>fault injection: √∫myselne zav√°dza ≈°pecifick√© z√°vady a zlyhania do syst√©mu na valid√°ciu jeho robustnosti a schopnosti poradi≈• si s chybami. Pou≈æ√≠va sa skoro vo v√Ωvojovom cykle v kontrolovanom testovacom prostred√≠ na potvrdenie, ≈æe syst√©m sa spr√°va spr√°vne za zn√°mych chybov√Ωch podmienok.<li>stress testing: vystavuje syst√©m extr√©mnej pracovnej z√°≈•a≈æi alebo vy≈•a≈æeniu zdrojov (CPU, pam√§≈•...) a m√° za cieƒæ identifikova≈• v√Ωkonnostn√© √∫zke hrdl√°, zlyhania z pre≈•a≈æenia<li>failover testing: √∫myselne sp√¥sob√≠ vypovedanie slu≈æby a pozoruje, ƒçi syst√©m dok√°≈æe prejs≈• na z√°lohu alebo rezervn√∫ slu≈æbu<li>data recovery testing: verifikuje, ≈æe d√°ta sa daj√∫ obnovi≈• zo z√°loh a aj ≈æe z√°lohovacie mechanizmy s√∫ efekt√≠vne a proces obnovy spoƒæahliv√Ω a v√Ωkonn√Ω. Mal by by≈• vykon√°van√Ω periodicky, hod√≠ sa tie≈æ po veƒæk√Ωch zmen√°ch v d√°tach a migr√°ci√°ch.<li>disaster recovery testing: pom√°ha uisti≈• sa, ≈æe syst√©m m√¥≈æe by≈• obnoven√Ω a spojazdnen√Ω po udalostiach veƒæk√©ho rozsahu ako v√Ωpadku d√°tov√Ωch centier. Zah≈ï≈àa aktivity ako obnovu zo z√°loh, prepnutie na redundantn√© syst√©my alebo presmerovanie prev√°dzky na disaster recovery prostredie. Vhodn√Ω po signifikantn√Ωch zmen√°ch v infra≈°trukt√∫re.</ul><p><em>Ako vid√≠te, je toho ne√∫rekom a v testovan√≠ sa st√°le d√° vymyslie≈• a n√°js≈• nieƒço nov√©, kombinova≈• r√¥zne pr√≠stupy. A v s√∫ƒçasnosti aj vyu≈æ√≠va≈• pomoc AI.</em></p><center><h3>üôè üôè üôè</h3></center><p>Ak ste sa dostali a≈æ sem a pr√≠spevok sa V√°m p√°ƒçil, jeho <a href=https://monikajassova.github.io/posts/netradicne-testovanie/ on-click=share>zdieƒæanie</a> na Va≈°ej obƒæ√∫benej soci√°lnej sieti ma veƒæmi pote≈°√≠ üíñ!</p><share-widget><button aria-label=Share href=https://monikajassova.github.io/posts/netradicne-testovanie/ on-click=share><div></div></button></share-widget><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","headline":"Netradiƒçn√© pr√≠stupy k testovaniu","image":["https://monikajassova.github.io/img/xstate-model-voter-1920w.png"],"author":"Monika Ja≈°≈°ov√°","genre":"Blog","publisher":{"@type":"Organization","name":"Monika Ja≈°≈°ov√°","logo":{"@type":"ImageObject","url":"/img/favicon/favicon-192x192.png?hash=f78a2bf32c"}},"url":"https://monikajassova.github.io/posts/netradicne-testovanie/","mainEntityOfPage":"https://monikajassova.github.io/posts/netradicne-testovanie/","datePublished":"2025-05-13","dateModified":"2025-05-13","description":"Prehƒæad zauj√≠mav√Ωch pr√≠stupov k testovaniu, s ktor√Ωmi som sa stretla na blockchainovom projekte (ako kritick√Ω vy≈æadoval vy≈°≈°iu mieru istoty..."}</script><p>D√°tum publikovania: <time datetime=2025-05-13>13. m√°j 2025</time></article></main><footer>¬© Monika Ja≈°≈°ov√°, 2022 - 2025</footer>